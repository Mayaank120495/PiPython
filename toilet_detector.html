<html>
  <head>
    <meta charset="utf-8"/>
    <title>Toilet Status</title>
    <script src="https://www.gstatic.com/firebasejs/3.3.0/firebase.js"></script>
    <link href="https://fonts.googleapis.com/css?family=BenchNine&display=swap" rel="stylesheet">
    <style>
    body{
      font-family: 'BenchNine', sans-serif;
      background: #eee;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      color: #000;
      font-size: 36px;
    }
    h1 {
      font-size: 65px;
    }
    h2 {
      font-size: 110px;
      margin: 0;
    }
    img {
      display: none;
      width: 350px;
    }
    </style>
    <script>
      var config = {
        apiKey: "xxxxxxx",
        authDomain: "xxxx.com",
        databaseURL: "https://xxxxx.firebaseio.com"
      };
      firebase.initializeApp(config);
      var ref = firebase.database().ref('door/state');
      ref.on("value", function(snapshot){
        // var text = snapshot.val();
        // data.innerHTML = JSON.stringify(text, null, 2);
        // data.innerHTML = text;
        console.log(snapshot.val());
        if (snapshot.val() == 'Door is locked') {
          data.innerHTML = "Toilet is occuupied";
          document.getElementById('body').style.backgroundColor = "#F7992D";
          document.getElementById('closed').style.display = "block";
          document.getElementById('opened').style.display = "none";
        } else {
          data.innerHTML = "Toilet is vacant";
          document.getElementById('body').style.backgroundColor = "#B6D161";
          document.getElementById('opened').style.display = "block";
          document.getElementById('closed').style.display = "none";
        }
      });
      
    </script>
  </head>
  <body id="body">
    <h1>Toilet Status</h1>
    <h2 id='data'></h2>
    <img id="opened" src="https://cdn2.iconfinder.com/data/icons/finance-31/24/finance-24-256.png" />
    <img id="closed" src="https://cdn3.iconfinder.com/data/icons/shopping-icons-14/128/18_Closed_Sign-128.png" />
  </body>
</html>
